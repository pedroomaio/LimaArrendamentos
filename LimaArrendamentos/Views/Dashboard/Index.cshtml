@model LimaArrendamentos.Models.DashboardViewModel
@{
    ViewData["Title"] = "Painel de Controlo";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}



<div class="section-body mt-3">
    <div class="container-fluid">
        <div class="row clearfix">
            <div class="col-lg-12">
                <div class="mb-4">
                    <h4>Bem-vindo, @this.User.Identity.Name</h4>
                </div>
            </div>
        </div>
        <div class="row clearfix row-deck">
            <div class="col-xl-2 col-lg-4 col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Casas no website</h3>
                    </div>
                    <div class="card-body">
                        <h5 class="number mb-0 font-32 counter">@Html.DisplayFor(model => model.TotalRealties)</h5>
                    </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-4 col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Users no website</h3>
                    </div>
                    <div class="card-body">
                        <h5 class="number mb-0 font-32 counter">@Html.DisplayFor(model => model.TotalUsers)</h5>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Notificações</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover table-striped text-nowrap table-vcenter mb-0">
                                
                               

                                <tbody>



                                    @if (Model.LeaseMessages == null || Model.LeaseMessages.Count() == 0)
                                    {
                                        <p> Não tem notificações </p>
                                        
                                    }
                                    else
                                    {

                                        foreach (var item in Model.LeaseMessages.OrderBy(m => m.Id))
                                        {

                                            <p> @Html.DisplayFor(modelItem => item.Message) To end round click </p>
                                            <a asp-controller="Scores" asp-action="UpdateScores" asp-route-id="@item.Id">Sim</a>
                                            <a asp-controller="Scores" asp-action="UpdateScores" asp-route-id="@item.Id">Não</a>


                                            <span class="notify-time">@DateTime.Now</span>

                                        }


                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div> 
</div>